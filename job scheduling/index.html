<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NP-Hard Job Shop Solver</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Job Shop Scheduling Solver</h1>
        <p>Optimization of NP-Hard makespan problems using Priority Heuristics.</p>
    </header>

    <main>
        <div id="input-section" class="controls" style="flex-direction: column; align-items: flex-start; gap: 15px;">
            <div style="width: 100%; display: flex; justify-content: space-between; align-items: center;">
                <h3 style="margin: 0; font-size: 1rem; color: #1e293b;">Project Configuration</h3>
                <span style="font-size: 0.75rem; color: #64748b;">Format: Machine,Duration (space separated) â€” e.g., 0,3 1,4 2,2</span>
            </div>
            
            <div id="job-inputs-list" style="width: 100%;">
                <div class="job-input-row" style="display: flex; gap: 10px; margin-bottom: 8px;">
                    <div style="background: #f1f5f9; padding: 8px 12px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; min-width: 60px;">Job 1</div>
                    <input type="text" class="job-data" placeholder="e.g. 0,3 1,4 2,2" value="0,3 1,4 2,2" style="flex-grow: 1; padding: 8px; border-radius: 4px; border: 1px solid #cbd5e1;">
                    <input type="color" class="job-color" value="#3b82f6" style="width: 40px; height: 35px; border: none; cursor: pointer; background: none;">
                </div>
            </div>
            
            <div style="display: flex; gap: 10px; width: 100%; border-top: 1px solid #f1f5f9; padding-top: 10px;">
                <button id="add-job-field" class="secondary-btn" style="padding: 8px 15px; font-size: 0.8rem;">+ Add New Job</button>
                <button id="randomize-btn" class="secondary-btn" style="padding: 8px 15px; font-size: 0.8rem; border-color: #6366f1; color: #6366f1;">Randomize Data</button>
                <button id="update-config-btn" class="primary-btn" style="padding: 8px 25px; font-size: 0.8rem; background-color: #6366f1;">Apply & Solve</button>
            </div>
        </div>

        <div class="controls">
            <button id="solve-btn" class="primary-btn">Run Genetic Heuristic</button>
            <button id="reset-btn" class="secondary-btn">Reset Board</button>
            <button id="download-btn" class="secondary-btn" style="background-color: #10b981; color: white; border: none;">Download Report</button>
            
            <div class="metrics" style="display: flex; gap: 30px; margin-left: 20px; align-items: center;">
                <div style="text-align:center">
                    <div style="font-size: 0.7rem; color: #64748b; text-transform: uppercase; letter-spacing: 1px; font-weight: bold;">Total Makespan</div>
                    <div style="font-size: 1.8rem; font-weight: 800; color: #2563eb; line-height: 1;"><span id="makespan-val">0</span>h</div>
                </div>
                <div style="text-align:center">
                    <div style="font-size: 0.7rem; color: #64748b; text-transform: uppercase; letter-spacing: 1px; font-weight: bold;">Avg Efficiency</div>
                    <div style="font-size: 1.8rem; font-weight: 800; color: #10b981; line-height: 1;"><span id="avg-util">0</span>%</div>
                </div>
            </div>
        </div>

        <div id="gantt-container">
            <div id="machine-lanes"></div>
            <div id="time-ruler-row" class="machine-row" style="border-bottom: none; border-top: 2px solid #cbd5e1; height: 40px; background: #f8fafc;">
                <div class="machine-label" style="background: none; border-right: none; font-size: 10px; color: #64748b;">TIME (HOURS)</div>
                <div class="timeline" id="ruler-timeline" style="display: flex; align-items: flex-start;"></div>
            </div>
        </div>

        <section class="legend">
            <div class="legend-item"><span class="box valid"></span> Valid Sequence</div>
            <div class="legend-item"><span class="box invalid"></span> Constraint Violation</div>
            <div class="legend-item"><span class="box" style="background: black; border: 1px solid white;"></span> Critical Path (Pulse)</div>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>